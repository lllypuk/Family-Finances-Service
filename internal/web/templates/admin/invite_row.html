{{define "admin/invite_row.html"}}
<article class="invite-card" id="invite-{{.Invite.ID}}">
    <div class="invite-header">
        <div class="invite-info">
            <h4>üìß {{.Invite.Email}}</h4>
            <div class="invite-meta">
                {{if eq .Invite.Role "admin"}}
                <span class="role-badge role-admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                {{else if eq .Invite.Role "member"}}
                <span class="role-badge role-member">–£—á–∞—Å—Ç–Ω–∏–∫</span>
                {{else if eq .Invite.Role "child"}}
                <span class="role-badge role-child">–†–µ–±–µ–Ω–æ–∫</span>
                {{end}} {{if eq .Invite.Status "pending"}}
                <span class="status-badge status-pending">–û–∂–∏–¥–∞–µ—Ç</span>
                {{else if eq .Invite.Status "expired"}}
                <span class="status-badge status-expired">–ò—Å—Ç–µ–∫</span>
                {{else if eq .Invite.Status "revoked"}}
                <span class="status-badge status-revoked">–û—Ç–º–µ–Ω–µ–Ω</span>
                {{end}}

                <span
                    >‚è±Ô∏è –ò—Å—Ç–µ–∫–∞–µ—Ç: {{.Invite.ExpiresAt.Format "02.01.2006 15:04"}}</span
                >
            </div>

            {{if eq .Invite.Status "pending"}}
            <div class="invite-link">
                <small>–°—Å—ã–ª–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è:</small><br />
                <code id="invite-link-{{.Invite.ID}}"
                    >{{.InviteURL}}/invite/{{.Invite.Token}}</code
                >
                <button
                    type="button"
                    class="secondary outline"
                    style="
                        margin-top: 0.5rem;
                        padding: 0.25rem 0.5rem;
                        font-size: 0.8rem;
                    "
                    onclick="navigator.clipboard.writeText(document.getElementById('invite-link-{{.Invite.ID}}').textContent)"
                >
                    üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                </button>
            </div>
            {{end}}
        </div>

        <div class="invite-actions">
            {{if eq .Invite.Status "pending"}}
            <button
                class="secondary outline delete-btn"
                hx-delete="/admin/invites/{{.Invite.ID}}"
                hx-confirm="–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å —ç—Ç–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ?"
                hx-target="#invite-{{.Invite.ID}}"
                hx-swap="outerHTML swap:1s"
            >
                –û—Ç–º–µ–Ω–∏—Ç—å
            </button>
            {{end}}
        </div>
    </div>
</article>
{{end}}
