{{define "pages/error"}}
<!doctype html>
<html lang="ru" data-theme="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{.PageData.Title}} - –°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç</title>

        <!-- PicoCSS -->
        <link rel="stylesheet" href="/static/css/pico.min.css" />
        <link rel="stylesheet" href="/static/css/custom.css" />

        <!-- HTMX -->
        <script src="/static/js/htmx.min.js"></script>

        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" href="/static/img/favicon.ico" />
    </head>
    <body>
        <!-- Navigation -->
        <nav class="container-fluid">
            <ul>
                <li>
                    <a href="/" class="brand">
                        <strong>üí∞ –°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç</strong>
                    </a>
                </li>
            </ul>
            <ul>
                <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/transactions">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</a></li>
                <li><a href="/categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
                <li><a href="/budgets">–ë—é–¥–∂–µ—Ç—ã</a></li>
                <li><a href="/reports">–û—Ç—á–µ—Ç—ã</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="container">
            <div class="error-container">
                <div class="error-content">
                    <div class="error-icon">
                        {{if eq .StatusCode 404}} üîç {{else if eq .StatusCode
                        500}} ‚ö†Ô∏è {{else if eq .StatusCode 403}} üîí {{else}} ‚ùå
                        {{end}}
                    </div>

                    <h1 class="error-title">
                        {{if .PageData.Title}} {{.PageData.Title}} {{else if eq
                        .StatusCode 404}} –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ {{else if eq
                        .StatusCode 500}} –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ {{else if eq
                        .StatusCode 403}} –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω {{else}} –ü—Ä–æ–∏–∑–æ—à–ª–∞
                        –æ—à–∏–±–∫–∞ {{end}}
                    </h1>

                    <p class="error-message">
                        {{if .ErrorMessage}} {{.ErrorMessage}} {{else if eq
                        .StatusCode 404}} –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
                        –∏–ª–∏ –±—ã–ª–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞. {{else if eq .StatusCode 500}} –ù–∞
                        —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.
                        {{else if eq .StatusCode 403}} –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è
                        –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ. {{else}} –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.
                        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ. {{end}}
                    </p>

                    <div class="error-actions">
                        <a href="/" role="button" class="primary">
                            üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                        </a>

                        <button onclick="history.back()" class="secondary">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>

                        {{if eq .StatusCode 404}}
                        <details class="help-section">
                            <summary>–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</summary>
                            <ul>
                                <li>
                                    <a href="/transactions">üìä –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</a>
                                </li>
                                <li><a href="/budgets">üí∞ –ë—é–¥–∂–µ—Ç—ã</a></li>
                                <li><a href="/reports">üìà –û—Ç—á–µ—Ç—ã</a></li>
                                <li><a href="/categories">üìã –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
                            </ul>
                        </details>
                        {{end}}
                    </div>

                    {{if .RequestID}}
                    <div class="error-details">
                        <small>ID –∑–∞–ø—Ä–æ—Å–∞: {{.RequestID}}</small>
                    </div>
                    {{end}}
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="container">
            <hr />
            <div class="grid">
                <div>
                    <small>¬© 2025 –°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç</small>
                </div>
            </div>
        </footer>

        <!-- Custom JavaScript -->
        <script src="/static/js/app.js"></script>
    </body>
</html>

<style>
    .error-container {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 60vh;
        text-align: center;
    }

    .error-content {
        max-width: 500px;
        padding: 2rem;
    }

    .error-icon {
        font-size: 4rem;
        margin-bottom: 1rem;
        display: block;
    }

    .error-title {
        font-size: 2rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: var(--pico-color);
    }

    .error-message {
        font-size: 1.1rem;
        margin-bottom: 2rem;
        color: var(--pico-muted-color);
        line-height: 1.6;
    }

    .error-actions {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .error-actions > * {
        margin: 0;
    }

    .help-section {
        margin-top: 1rem;
        text-align: left;
    }

    .help-section ul {
        margin: 0.5rem 0 0 0;
        padding-left: 1rem;
    }

    .help-section li {
        margin-bottom: 0.25rem;
    }

    .help-section a {
        text-decoration: none;
        color: var(--pico-primary);
    }

    .help-section a:hover {
        text-decoration: underline;
    }

    .error-details {
        padding-top: 1rem;
        border-top: 1px solid var(--pico-muted-border-color);
        color: var(--pico-muted-color);
    }

    @media (min-width: 768px) {
        .error-actions {
            flex-direction: row;
            justify-content: center;
        }

        .error-actions > button,
        .error-actions > a {
            flex: 0 0 auto;
            min-width: 120px;
        }
    }

    @media (max-width: 576px) {
        .error-container {
            min-height: 50vh;
            padding: 1rem 0;
        }

        .error-content {
            padding: 1rem;
        }

        .error-icon {
            font-size: 3rem;
        }

        .error-title {
            font-size: 1.5rem;
        }

        .error-message {
            font-size: 1rem;
        }
    }
</style>
{{end}}
