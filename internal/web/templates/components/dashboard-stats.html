{{define "dashboard-stats"}}
<section class="stats-grid">

    <div class="grid">
        <!-- Total Income Card -->
        <article class="stat-card income">
            <header>
                <h3>üíµ –î–æ—Ö–æ–¥—ã</h3></header>
                {{if .MonthlySummary.HasPreviousData}}
                <small class="{{.MonthlySummary.GetIncomeChangeClass}}">
                    {{if gt .MonthlySummary.IncomeChange 0.0}}‚ñ≤{{else if lt .MonthlySummary.IncomeChange 0.0}}‚ñº{{end}}
                    {{printf "%.1f%%" (abs .MonthlySummary.IncomeChange)}}
                </small>
                {{end}}
            </header>
            <main>
                <h2>{{printf "%.2f" .MonthlySummary.TotalIncome}} ‚ÇΩ</h2>
                <small>{{.MonthlySummary.CurrentMonth}}</small>
                {{if .MonthlySummary.HasPreviousData}}
                <small class="text-muted">
                    –ë—ã–ª–æ: {{printf "%.2f" .MonthlySummary.PreviousIncome}} ‚ÇΩ
                </small>
                {{end}}
            </main>
        </article>

        <!-- Total Expenses Card -->
        <article class="stat-card expenses">
            <header>
                <h3>üí∏ –†–∞—Å—Ö–æ–¥—ã</h3>
                {{if .MonthlySummary.HasPreviousData}}
                <small class="{{.MonthlySummary.GetExpensesChangeClass}}">
                    {{if gt .MonthlySummary.ExpensesChange 0.0}}‚ñ≤{{else if lt .MonthlySummary.ExpensesChange 0.0}}‚ñº{{end}}
                    {{printf "%.1f%%" (abs .MonthlySummary.ExpensesChange)}}
                </small>
                {{end}}
            </header>
            <main>
                <h2>{{printf "%.2f" .MonthlySummary.TotalExpenses}} ‚ÇΩ</h2>
                <small>{{.MonthlySummary.CurrentMonth}}</small>
                {{if .MonthlySummary.HasPreviousData}}
                <small class="text-muted">
                    –ë—ã–ª–æ: {{printf "%.2f" .MonthlySummary.PreviousExpenses}} ‚ÇΩ
                </small>
                {{end}}
            </main>
        </article>

        <!-- Net Income Card -->
        <article class="stat-card net">
            <header>
                <h3>üí∞ –û—Å—Ç–∞—Ç–æ–∫</h3>
            </header>
            <main>
                <h2 class="{{.MonthlySummary.GetNetIncomeClass}}">
                    {{printf "%.2f" .MonthlySummary.NetIncome}} ‚ÇΩ
                </h2>
                <small>–î–æ—Ö–æ–¥—ã - –†–∞—Å—Ö–æ–¥—ã</small>
                <small class="text-muted">
                    –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: {{.MonthlySummary.TransactionCount}}
                </small>
            </main>
        </article>
    </div>
</section>
{{end}}
