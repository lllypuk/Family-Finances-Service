{{define "dashboard-content"}}
<div id="dashboard-content">
    <!-- Enhanced Stats Cards -->
    {{if .DashboardViewModel.EnhancedStats}}
    {{template "enhanced-stats" .DashboardViewModel}}
    {{else if .DashboardViewModel.MonthlySummary}}
    {{template "dashboard-stats" .}}
    {{else}}
    <section class="stats-grid"
             hx-get="/htmx/dashboard/stats"
             hx-trigger="load"
             hx-target="this"
             hx-swap="outerHTML">
        <p aria-busy="true">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
    </section>
    {{end}}

    <!-- Quick Actions -->
    <section class="quick-actions">
        <h2>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
        <div class="grid">
            <a href="/transactions/new" role="button" class="secondary">
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
            </a>
            <a href="/budgets/new" role="button" class="secondary">
                üìä –°–æ–∑–¥–∞—Ç—å –±—é–¥–∂–µ—Ç
            </a>
            <a href="/reports" role="button" class="secondary">
                üìà –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç—á–µ—Ç—ã
            </a>
            <a href="/categories" role="button" class="secondary">
                üè∑Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
            </a>
        </div>
    </section>

    <!-- Main Dashboard Content -->
    <div class="dashboard-content">
        <div class="grid">
            <!-- Recent Activity -->
            <section class="recent-activity">
                <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
                {{if .DashboardViewModel.RecentActivity}}
                {{template "recent-transactions" .}}
                {{else}}
                <div class="recent-transactions"
                    hx-get="/htmx/transactions/recent"
                    hx-trigger="load"
                    hx-target="this"
                    hx-swap="outerHTML">
                    <p aria-busy="true">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π...</p>
                </div>
                {{end}}
            </section>

            <!-- Budget Overview -->
            <section class="budget-overview-section">
                <h2>–°–æ—Å—Ç–æ—è–Ω–∏–µ –±—é–¥–∂–µ—Ç–æ–≤</h2>
                {{if .DashboardViewModel.BudgetOverview}}
                {{template "budget-overview" .}}
                {{else}}
                <div class="budget-overview"
                    hx-get="/htmx/budgets/overview"
                    hx-trigger="load"
                    hx-target="this"
                    hx-swap="outerHTML">
                    <p aria-busy="true">–ó–∞–≥—Ä—É–∑–∫–∞ –±—é–¥–∂–µ—Ç–æ–≤...</p>
                </div>
                {{end}}
            </section>
        </div>

        <!-- Enhanced Category Insights -->
        {{if .DashboardViewModel.CategoryInsights}}
        {{template "category-insights-enhanced" .DashboardViewModel}}
        {{else}}
        <section id="category-insights-enhanced"
                 hx-get="/htmx/dashboard/category-insights?type=all"
                 hx-trigger="load"
                 hx-target="this"
                 hx-swap="outerHTML">
            <p aria-busy="true">–ó–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º...</p>
        </section>
        {{end}}
    </div>
</div>
{{end}}