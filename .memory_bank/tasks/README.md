# Bug Tracker - Семейный бюджет

Задачи на исправление багов, обнаруженных при тестировании фронтенда (2026-02-04).

## Сводка багов

| ID      | Название                     | Приоритет   | Статус | Связанные файлы      |
|---------|------------------------------|-------------|--------|----------------------|
| BUG-001 | Panic при создании отчёта    | КРИТИЧЕСКИЙ | TODO   | reports.go:151       |
| BUG-002 | Ошибка валидации Limit       | ВЫСОКИЙ     | TODO   | dto.go, reports.go   |
| BUG-003 | 403 при создании бэкапа      | ВЫСОКИЙ     | TODO   | backup.go, csrf.go   |
| BUG-004 | HTMX double render категорий | НИЗКИЙ      | TODO   | categories templates |
| BUG-005 | Навигация на странице backup | СРЕДНИЙ     | TODO   | backup.go, nav.html  |

## Рекомендуемый порядок исправления

1. **BUG-001** (КРИТИЧЕСКИЙ) - Panic при создании отчёта
2. **BUG-002** (ВЫСОКИЙ) - Ошибка валидации, связана с BUG-001
3. **BUG-003 + BUG-005** (ВЫСОКИЙ/СРЕДНИЙ) - Исправлять вместе, общая проблема с сессией
4. **BUG-004** (НИЗКИЙ) - UI баг, не критичен

## Тестовое окружение

При тестировании использовались:

- Чистая БД (удалена перед тестом)
- Локальный сервер: `make run-local`
- Браузер: agent-browser (HeadlessChrome)

## Тестовые данные

- **Семья**: "Тестовая Семья" (RUB)
- **Админ**: Тест Тестов (admin@test.com / password123)
- **Транзакции**: Зарплата +50000₽, Продукты -1500₽
- **Бюджет**: "Бюджет на продукты" (10000₽)
- **Приглашение**: member@test.com (member role)

## Работающий функционал

- [x] Первоначальная настройка
- [x] Авторизация
- [x] Дашборд с аналитикой
- [x] Категории (CRUD)
- [x] Транзакции (CRUD)
- [x] Бюджеты (CRUD, прогресс)
- [x] Админ-панель пользователей
- [x] Система приглашений

## Команды для тестирования

```bash
# Удалить БД и запустить сервер
rm -f ./data/budget.db && make run-local

# Тестирование через agent-browser
agent-browser open "http://127.0.0.1:8080"
agent-browser snapshot
agent-browser close
```
