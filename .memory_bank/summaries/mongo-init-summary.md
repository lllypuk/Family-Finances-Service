# –°–≤–æ–¥–∫–∞: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ MongoDB —Å–∫—Ä–∏–ø—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (2024-12-19)

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ
–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/mongo-init.js` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Family Budget Service.

### –ö–ª—é—á–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 1. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö UUID
- **–ë—ã–ª–æ**: `bsonType: 'string'` 
- **–°—Ç–∞–ª–æ**: `bsonType: 'binData'` (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å Go uuid.UUID)

#### 2. –°—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **Reports**: –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è `period`, `user_id`, `data`, `generated_at`
- **Budgets**: –î–æ–±–∞–≤–ª–µ–Ω enum `custom` –¥–ª—è Period
- **–í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏**: –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ Go –º–æ–¥–µ–ª—è–º

#### 3. –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
- **UUID**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ UUID –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –†–∞—Å—à–∏—Ä–µ–Ω—ã –¥–æ 30 (19 —Ä–∞—Å—Ö–æ–¥–Ω—ã—Ö + 11 –¥–æ—Ö–æ–¥–Ω—ã—Ö)
- **–°–µ–º—å—è**: –°–æ–∑–¥–∞–µ—Ç—Å—è –¥–µ–º–æ-—Å–µ–º—å—è "–î–µ–º–æ —Å–µ–º—å—è" (RUB)

#### 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **35+ –∏–Ω–¥–µ–∫—Å–æ–≤**: –ë–∞–∑–æ–≤—ã–µ, —Å–æ—Å—Ç–∞–≤–Ω—ã–µ, —á–∞—Å—Ç–∏—á–Ω—ã–µ, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ
- **TTL**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–π
- **–ü–æ–∏—Å–∫**: –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫

### –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏:
- `make dev-up`
- `docker-compose up`
- –ü–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ MongoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç
```
‚úÖ MongoDB initialization completed successfully!
üìã Summary:
   - 6 collections with comprehensive validation schemas
   - 35+ optimized indexes for performance
   - Default categories for expenses and income
   - Demo family data for initial setup
   - Text search capabilities (Russian language)
   - Session management with TTL indexes
   - Performance optimizations enabled
```

### –§–∞–π–ª—ã
- ‚úÖ `scripts/mongo-init.js` - –æ–±–Ω–æ–≤–ª–µ–Ω (620 —Å—Ç—Ä–æ–∫)
- ‚úÖ `.memory_bank/mongo-init-update.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω: `node -c scripts/mongo-init.js`

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ Go models (100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ)
- ‚úÖ MongoDB 8.0
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è