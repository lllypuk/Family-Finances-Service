# New Feature Workflow - –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üéØ –¶–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞

–û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ Family Finances Service –æ—Ç –∏–¥–µ–∏ –¥–æ —Ä–µ–ª–∏–∑–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω.

## üîÑ –û–±—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞

```
–ò–¥–µ—è ‚Üí –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Üí –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –†–µ–ª–∏–∑ ‚Üí –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```

### –≠—Ç–∞–ø—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏
- **üìã –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: 1-2 –Ω–µ–¥–µ–ª–∏
- **üèóÔ∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: 2-4 –Ω–µ–¥–µ–ª–∏
- **üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 1 –Ω–µ–¥–µ–ª—è
- **üöÄ –†–µ–ª–∏–∑**: 1-3 –¥–Ω—è
- **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ

## üìã –≠—Ç–∞–ø 1: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ Feature Specification
```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
cp .memory_bank/specs/feature_xyz.md .memory_bank/specs/feature_[name].md
```

#### Checklist –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ–ø–∏—Å–∞–Ω—ã
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- [ ] –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] API –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–º–∞–Ω–∞
- [ ] –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏ –≤—ã—è–≤–ª–µ–Ω—ã

### 1.2 Technical Design Review
#### –£—á–∞—Å—Ç–Ω–∏–∫–∏
- **Tech Lead** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- **Senior Engineers** (2-3 —á–µ–ª–æ–≤–µ–∫–∞)
- **Product Owner** (–¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
- **DevOps Engineer** (–¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤)

#### Agenda –¥–ª—è Design Review
1. **–û–±–∑–æ—Ä —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** (10 –º–∏–Ω)
2. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** (15 –º–∏–Ω)
3. **API –¥–∏–∑–∞–π–Ω** (10 –º–∏–Ω)
4. **–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö** (10 –º–∏–Ω)
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** (5 –º–∏–Ω)
6. **–†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏** (5 –º–∏–Ω)
7. **Questions & Answers** (5 –º–∏–Ω)

#### Design Review Checklist
- [ ] –†–µ—à–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º
- [ ] API —Å–ª–µ–¥—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É—á—Ç–µ–Ω–∞ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- [ ] –†–µ—à–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ
- [ ] –ï—Å—Ç—å –ø–ª–∞–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏
- [ ] –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- [ ] –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)

### 1.3 Story Points Estimation
```
Fibonacci sequence: 1, 2, 3, 5, 8, 13, 21

1 point  = ~2-4 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã
2 points = ~1 –¥–µ–Ω—å —Ä–∞–±–æ—Ç—ã
3 points = ~1.5 –¥–Ω—è —Ä–∞–±–æ—Ç—ã
5 points = ~2-3 –¥–Ω—è —Ä–∞–±–æ—Ç—ã
8 points = ~1 –Ω–µ–¥–µ–ª—è —Ä–∞–±–æ—Ç—ã
13+ points = —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑–±–∏–µ–Ω–∏—è –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∑–∞–¥–∞—á–∏
```

#### Planning Poker Session
1. **Product Owner** –æ–±—ä—è—Å–Ω—è–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
2. **–ö–æ–º–∞–Ω–¥–∞** –∑–∞–¥–∞–µ—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
3. **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞** (–±–µ–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è)
4. **–û–±—Å—É–∂–¥–µ–Ω–∏–µ** —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –≤ –æ—Ü–µ–Ω–∫–∞—Ö
5. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞** –¥–æ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞

## üèóÔ∏è –≠—Ç–∞–ø 2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ Feature Branch
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –¥–ª—è –Ω–æ–≤–æ–π —Ñ–∏—á–∏
git checkout develop
git pull origin develop
git checkout -b feature/JIRA-123-feature-name

# Naming conventions:
# feature/JIRA-123-short-description
# feature/family-budgets-api
# feature/transaction-categorization
```

### 2.2 Development Process

#### Test-Driven Development (TDD)
```bash
# 1. Red: –ù–∞–ø–∏—Å–∞—Ç—å failing test
func TestCreateBudget_Success(t *testing.T) {
    // Arrange
    service := NewBudgetService(mockRepo, mockValidator)
    request := CreateBudgetRequest{
        FamilyID: "family-123",
        Amount:   1000.00,
        Period:   "monthly",
    }

    // Act
    budget, err := service.CreateBudget(context.Background(), request)

    // Assert
    assert.NoError(t, err)
    assert.NotNil(t, budget)
    assert.Equal(t, request.Amount, budget.Amount)
}

# 2. Green: –ù–∞–ø–∏—Å–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
func (s *BudgetService) CreateBudget(ctx context.Context, req CreateBudgetRequest) (*Budget, error) {
    budget := &Budget{
        ID:       generateID(),
        FamilyID: req.FamilyID,
        Amount:   req.Amount,
        Period:   req.Period,
    }
    return budget, nil
}

# 3. Refactor: –£–ª—É—á—à–∏—Ç—å –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
```

#### Development Checklist (per task)
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –¥–æ –∫–æ–¥–∞ (TDD)
- [ ] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –∫–æ–¥–µ (godoc)
- [ ] Performance considerations —É—á—Ç–µ–Ω—ã

### 2.3 Incremental Development
```
Sprint Planning ‚Üí Daily Development ‚Üí Mini-Demo ‚Üí Retrospective
     ‚Üì                    ‚Üì               ‚Üì           ‚Üì
  Task Breakdown ‚Üí Code + Test ‚Üí Show Progress ‚Üí Adjust Plan
```

#### Daily Development Routine
```bash
# –£—Ç—Ä–æ–º
git pull origin develop
git rebase develop  # –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–µ—Ç–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞
make test          # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make lint          # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

# –í —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è
git add .
git commit -m "feat: implement basic budget creation"  # Conventional commits
git push origin feature/budget-creation

# –í–µ—á–µ—Ä–æ–º
# –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å PR –µ—Å–ª–∏ –≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–≤—å—é
```

### 2.4 API First Development

#### OpenAPI Specification
```yaml
# api/openapi.yaml - –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
paths:
  /api/v1/families/{familyId}/budgets:
    post:
      summary: Create family budget
      tags: [Budgets]
      parameters:
        - name: familyId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBudgetRequest'
      responses:
        201:
          description: Budget created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BudgetResponse'
        400:
          $ref: '#/components/responses/ValidationError'
        404:
          $ref: '#/components/responses/NotFound'
```

#### Contract Testing
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤ –∏–∑ OpenAPI
make generate-mocks

# –í–∞–ª–∏–¥–∞—Ü–∏—è API –ø—Ä–æ—Ç–∏–≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
make validate-api
```

## üß™ –≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3.1 Testing Strategy

#### Testing Pyramid
```
        üî∫ E2E Tests (5%)
       üî∫üî∫ Integration Tests (15%)
    üî∫üî∫üî∫üî∫ Unit Tests (80%)
```

#### Unit Testing
```bash
# –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
go test -v -short ./internal/usecases/budget_test.go
go test -v -short ./internal/domain/budget_test.go

# Coverage –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
go test -v -coverprofile=coverage.out ./internal/usecases/
go tool cover -html=coverage.out

# Target: >80% coverage –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
```

#### Integration Testing
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î
go test -v -run Integration ./internal/infrastructure/

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints
go test -v -run TestBudget ./internal/interfaces/http/
```

#### E2E Testing
```go
func TestBudgetCreation_E2E(t *testing.T) {
    // Setup test environment
    server := setupE2EServer(t)
    client := NewAPIClient(server.URL)

    // Create test user and family
    user := createTestUser(t, client)
    family := createTestFamily(t, client, user.ID)

    // Test budget creation
    budget := CreateBudgetRequest{
        FamilyID: family.ID,
        Amount:   1500.00,
        Period:   "monthly",
        Category: "groceries",
    }

    createdBudget, err := client.CreateBudget(budget)
    assert.NoError(t, err)
    assert.Equal(t, budget.Amount, createdBudget.Amount)

    // Verify budget in database
    storedBudget, err := client.GetBudget(createdBudget.ID)
    assert.NoError(t, err)
    assert.Equal(t, createdBudget.ID, storedBudget.ID)
}
```

### 3.2 Quality Gates

#### Automated Checks (CI/CD)
```yaml
# .github/workflows/feature-check.yml
name: Feature Quality Check
on:
  pull_request:
    branches: [develop]

jobs:
  quality-check:
    steps:
      - name: Run tests
        run: |
          make test
          make test-coverage

      - name: Lint check
        run: make lint

      - name: Security scan
        run: make security-scan

      - name: Performance check
        run: make benchmark
```

#### Manual QA Checklist
- [ ] Happy path scenarios —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Error cases –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] API responses —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- [ ] Performance –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
- [ ] Logs —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

## üîç –≠—Ç–∞–ø 4: Code Review

### 4.1 Pull Request Creation

#### PR Template
```markdown
## Description
Brief description of the changes and the problem they solve.

## Type of Change
- [ ] üöÄ New feature
- [ ] üêõ Bug fix
- [ ] üìö Documentation update
- [ ] üîß Refactoring
- [ ] ‚ö° Performance improvement

## Related Issues
- Closes #123
- Related to #456

## Changes Made
- Added budget creation API endpoint
- Implemented budget validation logic
- Added comprehensive test coverage
- Updated API documentation

## Testing
- [ ] Unit tests added/updated
- [ ] Integration tests added/updated
- [ ] Manual testing completed
- [ ] API documentation updated

## Checklist
- [ ] Code follows project style guidelines
- [ ] Self-review completed
- [ ] Comments added for complex logic
- [ ] Documentation updated
- [ ] Tests cover the changes
- [ ] No breaking changes (or breaking changes documented)
```

#### PR Best Practices
- **–†–∞–∑–º–µ—Ä**: < 400 —Å—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∏—Å–∫–ª—é—á–∞—è —Ç–µ—Å—Ç—ã)
- **Scope**: –û–¥–Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- **Description**: –ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **Tests**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞
- **Documentation**: –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### 4.2 Review Process

#### Reviewers Assignment
- **Mandatory**: Tech Lead –∏–ª–∏ Senior Engineer
- **Optional**: Domain expert (–µ—Å–ª–∏ –µ—Å—Ç—å)
- **Automatic**: CodeOwners file –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–≤—å—é–µ—Ä–æ–≤

#### Review Checklist
##### Architecture & Design
- [ ] –†–µ—à–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º
- [ ] –ù–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤
- [ ] Dependency injection –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

##### Code Quality
- [ ] –ö–æ–¥ —á–∏—Ç–∞–µ–º—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π
- [ ] –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π meaningful
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- [ ] Error handling —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≥–¥–µ –Ω—É–∂–Ω–æ

##### Security
- [ ] Input validation –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- [ ] SQL injection protection
- [ ] Authorization checks –≤ –º–µ—Å—Ç–µ
- [ ] Sensitive data –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

##### Performance
- [ ] –ù–µ—Ç N+1 –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
- [ ] –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- [ ] Pagination –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- [ ] Appropriate indexing –≤ –ë–î

##### Testing
- [ ] Unit tests –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É
- [ ] Edge cases –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Error scenarios –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- [ ] –ú–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 4.3 Review Comments

#### Comment Types
```markdown
**üí° Suggestion**: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
**‚ùì Question**: –í–æ–ø—Ä–æ—Å –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è
**üêõ Issue**: –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
**üí≠ Nitpick**: –ú–µ–ª–∫–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è (–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ)
**üö® Blocker**: –ö—Ä–∏—Ç–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–±–ª–æ–∫–∏—Ä—É–µ—Ç merge)
```

#### Example Comments
```go
// üí° Suggestion: Consider using a constant for this magic number
const DefaultBudgetPeriod = "monthly"

// ‚ùì Question: What happens if familyID is empty? Should we validate this?

// üêõ Issue: This could cause a race condition. Consider using mutex.
var budgetCache = make(map[string]*Budget)

// üö® Blocker: This is vulnerable to SQL injection
query := fmt.Sprintf("SELECT * FROM budgets WHERE id = '%s'", id)
```

## üöÄ –≠—Ç–∞–ø 5: –†–µ–ª–∏–∑

### 5.1 Pre-Release Checklist
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ CI/CD
- [ ] Code review –∑–∞–≤–µ—Ä—à–µ–Ω –∏ –æ–¥–æ–±—Ä–µ–Ω
- [ ] Feature flag –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- [ ] Database migration –≥–æ—Ç–æ–≤–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)
- [ ] Monitoring –∏ alerting –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Rollback plan –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω
- [ ] Documentation –æ–±–Ω–æ–≤–ª–µ–Ω–∞

### 5.2 Feature Flags Strategy

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Feature Flags
- **–ù–æ–≤–∞—è –∫—Ä–∏—Ç–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º API**
- **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ A/B —Ç–µ—Å—Ç—ã**
- **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π rollout**

#### Configuration Example
```json
{
  "budget_management": {
    "enabled": false,
    "rollout_percentage": 0,
    "user_whitelist": ["beta-user-1", "beta-user-2"],
    "family_whitelist": ["family-test-1"]
  }
}
```

#### Implementation
```go
func (h *BudgetHandler) CreateBudget(c *gin.Context) {
    if !h.featureFlags.IsEnabled("budget_management", c.GetString("user_id")) {
        c.JSON(http.StatusNotFound, gin.H{"error": "Feature not available"})
        return
    }

    // Feature implementation
}
```

### 5.3 Deployment Strategy

#### Staged Rollout
```
1. üß™ Development ‚Üí Deploy to dev environment
2. üî¨ Staging ‚Üí Deploy to staging, run E2E tests
3. üé≠ Canary ‚Üí Deploy to 5% of production traffic
4. üìà Production ‚Üí Full rollout if metrics are good
```

#### Deployment Commands
```bash
# Deploy to staging
make deploy-staging

# Run E2E tests on staging
make test-e2e-staging

# Deploy canary (5% traffic)
make deploy-canary

# Monitor canary metrics
make monitor-canary

# Full production rollout
make deploy-production

# Or rollback if issues
make rollback-production
```

### 5.4 Post-Deployment Monitoring

#### Key Metrics to Monitor
- **Response Time**: P50, P95, P99 latency
- **Error Rate**: 4xx and 5xx errors percentage
- **Throughput**: Requests per second
- **Resource Usage**: CPU, Memory, DB connections
- **Business Metrics**: Feature adoption, usage patterns

#### Monitoring Dashboard
```yaml
# Grafana dashboard queries
- Response Time:
    query: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))

- Error Rate:
    query: rate(http_requests_total{status=~"4..|5.."}[5m]) / rate(http_requests_total[5m])

- Feature Usage:
    query: rate(budget_creation_total[5m])
```

#### Alerting Rules
```yaml
- name: budget_feature_alerts
  rules:
    - alert: HighErrorRate
      expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.01
      for: 2m
      labels:
        severity: critical
      annotations:
        summary: "High error rate detected for budget feature"

    - alert: SlowResponse
      expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 1
      for: 5m
      labels:
        severity: warning
      annotations:
        summary: "Slow response time for budget endpoints"
```

## üìä –≠—Ç–∞–ø 6: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∏—Ç–µ—Ä–∞—Ü–∏–∏

### 6.1 Success Metrics

#### Technical Metrics
- **Performance**: < 200ms P95 response time
- **Reliability**: > 99.9% uptime
- **Error Rate**: < 0.1% for new endpoints
- **Coverage**: > 80% test coverage

#### Business Metrics
- **Adoption**: % of families using new feature
- **Engagement**: Daily/Weekly active usage
- **Satisfaction**: User feedback and ratings
- **Conversion**: Impact on key business metrics

### 6.2 Feedback Collection

#### User Feedback Channels
- **In-app feedback**: Feature-specific feedback forms
- **Support tickets**: Monitor for feature-related issues
- **Analytics**: Usage patterns and drop-off points
- **User interviews**: Direct feedback from key users

#### Internal Feedback
- **Team retrospective**: What went well/wrong in development
- **Performance review**: Technical metrics analysis
- **Process improvement**: Lessons learned for next features

### 6.3 Iteration Planning

#### Feature Enhancement Backlog
```markdown
## Enhancement Ideas
- [ ] **[HIGH]** Add budget notifications when limits exceeded
- [ ] **[MED]** Implement budget categories breakdown
- [ ] **[LOW]** Add budget comparison with previous periods

## Bug Fixes
- [ ] **[P1]** Fix budget calculation edge case for leap years
- [ ] **[P2]** Improve error messages for validation failures

## Technical Debt
- [ ] Refactor budget calculation logic for better performance
- [ ] Add more comprehensive integration tests
- [ ] Improve API documentation with more examples
```

## üõ†Ô∏è Tools and Templates

### 6.1 Development Tools
```bash
# Code generation
make generate          # Generate mocks, swagger docs
make migrate-create     # Create new database migration
make api-docs          # Update API documentation

# Quality checks
make lint              # Run golangci-lint
make test              # Run all tests
make test-coverage     # Generate coverage report
make security-scan     # Run security analysis

# Local development
make dev               # Start local development environment
make db-reset          # Reset local database
make mock-data         # Load test data
```

### 6.2 Useful Commands
```bash
# Feature branch management
git checkout -b feature/new-feature
git rebase develop     # Keep feature branch up to date
git push origin feature/new-feature

# Testing specific packages
go test -v ./internal/usecases/budget/...
go test -v -run TestCreateBudget
go test -bench=. ./internal/usecases/budget/

# Database operations
migrate -path migrations -database postgres://... up
migrate -path migrations -database postgres://... down 1

# API testing
curl -X POST http://localhost:8080/api/v1/families/123/budgets \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer token" \
  -d '{"amount": 1000, "period": "monthly"}'
```

## ‚úÖ Definition of Done

### Feature Development Complete When:
- [ ] **Requirements**: All acceptance criteria met
- [ ] **Code**: Implemented and follows coding standards
- [ ] **Tests**: Unit, integration, and E2E tests pass
- [ ] **Review**: Code reviewed and approved
- [ ] **Documentation**: API docs and guides updated
- [ ] **Security**: Security review completed
- [ ] **Performance**: Meets performance requirements
- [ ] **Deployment**: Successfully deployed to production
- [ ] **Monitoring**: Metrics and alerts configured
- [ ] **Validation**: Feature works as expected in production

### Quality Gates
1. **Code Quality**: All lints pass, coverage > 80%
2. **Security**: No critical vulnerabilities
3. **Performance**: Response time < 200ms P95
4. **Reliability**: Error rate < 0.1%
5. **Documentation**: Complete and accurate
6. **Testing**: All test suites pass

## üìö Resources and References

### Documentation
- [API Standards](../patterns/api_standards.md)
- [Error Handling](../patterns/error_handling.md)
- [Coding Standards](../guides/coding_standards.md)
- [Testing Strategy](../guides/testing_strategy.md)

### External Resources
- [Go Best Practices](https://golang.org/doc/effective_go.html)
- [REST API Design](https://restfulapi.net/)
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [Test-Driven Development](https://martinfowler.com/bliki/TestDrivenDevelopment.html)

### Training Materials
- [Go Advanced Patterns Workshop](internal-link)
- [API Design Masterclass](internal-link)
- [Security Best Practices](internal-link)
- [Performance Optimization](internal-link)

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2025*
*–í–ª–∞–¥–µ–ª–µ—Ü: Engineering Team*
*–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä—É–ø–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞*
*–°–ª–µ–¥—É—é—â–∏–π —Ä–µ–≤—å—é: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞*
